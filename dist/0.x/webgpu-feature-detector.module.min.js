function t(t){return Object.keys(t)}function e(t,e){return t.has(e)}function r(t){return!t.has("core-features-and-limits")}function o(t,e){if(!t)throw new Error(e)}const s={blockWidth:void 0,blockHeight:void 0,color:void 0,depth:void 0,stencil:void 0,colorRender:void 0,multisample:void 0,feature:void 0,baseFormat:void 0,bytesPerBlock:void 0};function c({defaults:t,table:e}){return Object.fromEntries(Object.entries(e).map(([e,r])=>[e,{...s,...t,...r}]))}const l=c({defaults:{blockWidth:1,blockHeight:1},table:{r8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},colorRender:{blend:!0,resolve:!0,byteCost:1,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r8snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},multisample:!1,get bytesPerBlock(){return this.color.bytes}},r8uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},colorRender:{blend:!1,resolve:!1,byteCost:1,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r8sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},colorRender:{blend:!1,resolve:!1,byteCost:1,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!0,byteCost:2,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg8snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rg8uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg8sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"rgba8unorm",get bytesPerBlock(){return this.color.bytes}},"rgba8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"rgba8unorm",get bytesPerBlock(){return this.color.bytes}},rgba8snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba8uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba8sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},bgra8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"bgra8unorm",get bytesPerBlock(){return this.color.bytes}},"bgra8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"bgra8unorm",get bytesPerBlock(){return this.color.bytes}},r16unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!1,byteCost:2,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},r16snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!1,byteCost:2,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},r16uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r16sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r16float:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!0,byteCost:2,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg16unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!1,byteCost:4,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rg16snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!1,byteCost:4,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rg16uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg16sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg16float:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:4,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba16unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!0,resolve:!1,byteCost:8,alignment:4},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rgba16snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!0,resolve:!1,byteCost:8,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rgba16uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba16sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba16float:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r32uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!0,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},r32sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!0,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},r32float:{color:{type:"unfilterable-float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!0,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg32uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rg32sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rg32float:{color:{type:"unfilterable-float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba32uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:16},colorRender:{blend:!1,resolve:!1,byteCost:16,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba32sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:16},colorRender:{blend:!1,resolve:!1,byteCost:16,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba32float:{color:{type:"unfilterable-float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:16},colorRender:{blend:!1,resolve:!1,byteCost:16,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgb10a2uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgb10a2unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg11b10ufloat:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgb9e5ufloat:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}}}}),a=c({defaults:{blockWidth:1,blockHeight:1,multisample:!0},table:{stencil8:{stencil:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},bytesPerBlock:1},depth16unorm:{depth:{type:"depth",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},bytesPerBlock:2},depth32float:{depth:{type:"depth",copySrc:!0,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:4},bytesPerBlock:4}}}),n=c({defaults:{blockWidth:1,blockHeight:1,multisample:!0},table:{depth24plus:{depth:{type:"depth",copySrc:!1,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:void 0}},"depth24plus-stencil8":{depth:{type:"depth",copySrc:!1,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:void 0},stencil:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1}},"depth32float-stencil8":{depth:{type:"depth",copySrc:!0,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:4},stencil:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},feature:"depth32float-stencil8"}}}),y=c({defaults:{blockWidth:4,blockHeight:4,multisample:!1,feature:"texture-compression-bc"},table:{"bc1-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"bc1-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc1-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"bc1-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc2-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc2-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc2-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc2-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc3-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc3-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc3-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc3-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc4-r-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"bc4-r-snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"bc5-rg-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc5-rg-snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc6h-rgb-ufloat":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc6h-rgb-float":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc7-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc7-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc7-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc7-rgba-unorm",get bytesPerBlock(){return this.color.bytes}}}}),b=c({defaults:{blockWidth:4,blockHeight:4,multisample:!1,feature:"texture-compression-etc2"},table:{"etc2-rgb8unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgb8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgb8a1unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8a1unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgb8a1unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8a1unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgba8unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"etc2-rgba8unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgba8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"etc2-rgba8unorm",get bytesPerBlock(){return this.color.bytes}},"eac-r11unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"eac-r11snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"eac-rg11unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"eac-rg11snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}}}}),i=c({defaults:{multisample:!1,feature:"texture-compression-astc"},table:{"astc-4x4-unorm":{blockWidth:4,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-4x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-4x4-unorm-srgb":{blockWidth:4,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-4x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x4-unorm":{blockWidth:5,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x4-unorm-srgb":{blockWidth:5,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x5-unorm":{blockWidth:5,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x5-unorm-srgb":{blockWidth:5,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x5-unorm":{blockWidth:6,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x5-unorm-srgb":{blockWidth:6,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x6-unorm":{blockWidth:6,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x6-unorm-srgb":{blockWidth:6,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x5-unorm":{blockWidth:8,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x5-unorm-srgb":{blockWidth:8,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x6-unorm":{blockWidth:8,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x6-unorm-srgb":{blockWidth:8,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x8-unorm":{blockWidth:8,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x8-unorm-srgb":{blockWidth:8,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x5-unorm":{blockWidth:10,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x5-unorm-srgb":{blockWidth:10,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x6-unorm":{blockWidth:10,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x6-unorm-srgb":{blockWidth:10,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x8-unorm":{blockWidth:10,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x8-unorm-srgb":{blockWidth:10,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x10-unorm":{blockWidth:10,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x10-unorm-srgb":{blockWidth:10,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x10-unorm":{blockWidth:12,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x10-unorm-srgb":{blockWidth:12,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x12-unorm":{blockWidth:12,blockHeight:12,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x12-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x12-unorm-srgb":{blockWidth:12,blockHeight:12,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x12-unorm",get bytesPerBlock(){return this.color.bytes}}}}),g={...y,...b,...i},u={...l,...g},p={...a,...n},m={...{...l,...a,...n},...g},d=t(l),f=t(u),h=t(p),S=t(m),k={...l,...a,...n,...y,...b,...i};h.filter(t=>k[t].depth),h.filter(t=>k[t].stencil);const W=["r8snorm","rg8snorm","rgba8snorm","rg11b10ufloat"],B=["r16unorm","r16snorm","rg16unorm","rg16snorm","rgba16unorm","rgba16snorm","r8snorm","rg8snorm","rgba8snorm","rg11b10ufloat"],D=["r8unorm","r8snorm","r8uint","r8sint","rg8unorm","rg8snorm","rg8uint","rg8sint","r16uint","r16sint","r16float","rg16uint","rg16sint","rg16float","rgb10a2uint","rgb10a2unorm","rg11b10ufloat"],P=["r8unorm","r8uint","r8sint","rgba8unorm","rgba8uint","rgba8sint","r16uint","r16sint","r16float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float"];function x(t,e){return function(t){return!!k[t].color}(e)&&!function(t){const e=k[t],r=e.color?.type??e.depth?.type??e.stencil?.type;return"sint"===r||"uint"===r}(e)&&!R(e)&&!function(t){return t.endsWith("snorm")}(e)&&w(t,e)}[...d.filter(t=>k[t].color?.storage),"bgra8unorm",...D].filter(t=>k[t].color?.readWriteStorage),d.filter(t=>k[t].multisample),h.filter(t=>k[t].multisample),d.filter(t=>k[t].colorRender),f.filter(t=>k[t].baseFormat&&k[t].baseFormat!==t),d.filter(t=>k[t].baseFormat&&k[t].baseFormat!==t),S.filter(t=>void 0!==k[t].feature);const v={depth24plus:{CopyB2T:[],CopyT2B:[],texelAspectSize:{"depth-only":-1,"stencil-only":-1}},"depth24plus-stencil8":{CopyB2T:["stencil-only"],CopyT2B:["stencil-only"],texelAspectSize:{"depth-only":-1,"stencil-only":1}},depth16unorm:{CopyB2T:["all","depth-only"],CopyT2B:["all","depth-only"],texelAspectSize:{"depth-only":2,"stencil-only":-1}},depth32float:{CopyB2T:[],CopyT2B:["all","depth-only"],texelAspectSize:{"depth-only":4,"stencil-only":-1}},"depth32float-stencil8":{CopyB2T:["stencil-only"],CopyT2B:["depth-only","stencil-only"],texelAspectSize:{"depth-only":4,"stencil-only":1}},stencil8:{CopyB2T:["all","stencil-only"],CopyT2B:["all","stencil-only"],texelAspectSize:{"depth-only":-1,"stencil-only":1}}};function C(t,e,r){const o=function(t,e){return v[e]["WriteTexture"===t?"CopyB2T":t]}(t,e);return o.includes(r)}function F(t){return B.includes(t)}function R(t){return t in g}function H(t){return function(t){return!!k[t].depth}(t)||function(t){return!!k[t].stencil}(t)}function T(t,r){return"rg11b10ufloat"===r?e(t,"rg11b10ufloat-renderable"):F(r)?e(t,"texture-formats-tier1"):!(!k[r].colorRender&&!H(r))}function w(t,r){return"rg11b10ufloat"===r?e(t,"rg11b10ufloat-renderable"):F(r)?e(t,"texture-formats-tier1"):!!m[r].colorRender}function A(t,r){return!!w(t,r)&&("rg11b10ufloat"===r?e(t,"rg11b10ufloat-renderable"):z(r)?e(t,"float32-blendable"):!!m[r].colorRender?.blend)}function O(t,r){const s=function(t,e="all"){const r=k[t];let s;switch(e){case"all":s=r.color?.type??r.depth?.type??r.stencil?.type;break;case"depth-only":s=r.depth?.type;break;case"stencil-only":s=r.stencil?.type}return o(!!s),s}(r);switch(s){case"float":return!0;case"unfilterable-float":return o(z(r)),e(t,"float32-filterable");default:return!1}}function z(t){return"r32float"===t||"rg32float"===t||"rgba32float"===t}const j=["rg32float","rg32sint","rg32uint"];function E(t,o){if(r(t)&&j.indexOf(o)>=0)return!1;if("bgra8unorm"===o&&e(t,"bgra8unorm-storage"))return!0;if(function(t){return D.includes(t)}(o)&&e(t,"texture-formats-tier1"))return!0;const s=k[o];return!!(s.color?.storage||s.depth?.storage||s.stencil?.storage)}function I(t,r,o){switch(o){case"read":case"read-only":return function(t,e){if("bgra8unorm"===e)return!1;return E(t,e)}(t,r);case"write":case"write-only":return E(t,r);case"read_write":case"read-write":return function(t,r){if(function(t){return P.includes(t)}(r))return e(t,"texture-formats-tier2");return!!k[r].color?.readWriteStorage}(t,r)}}const _=["r8uint","r8sint","rg8uint","rg8sint","rgba8uint","rgba8sint","r16uint","r16sint","rg16uint","rg16sint","rgba16uint","rgba16sint","rgb10a2uint","rgba16float","r32float"];function q(t,o){return!(r(t)&&_.indexOf(o)>=0)&&("rg11b10ufloat"===o?e(t,"rg11b10ufloat-renderable"):F(o)?e(t,"texture-formats-tier1"):m[o].multisample)}function G(t,r){if("rg11b10ufloat"===r)return e(t,"rg11b10ufloat-renderable");if(function(t){return W.includes(t)}(r))return e(t,"texture-formats-tier1");if(!q(t,r))return!1;const o=m[r];return!!o.colorRender?.resolve}var J;function K(t,e,o,s,c=1){if(r(t)){if(c>1&&"CopyT2T"===e)return!1;if(R(o))return"WriteTexture"===e||"CopyB2T"===e}if(H(o)){if("CopyT2T"!==e)return C(e,o,s);switch(o){case"depth24plus":case"depth32float":return!1;case"depth24plus-stencil8":case"depth32float-stencil8":return"stencil-only"===s}}return 1==c||"CopyT2T"===e}function L(t,e){if("bgra8unorm-srgb"===e&&r(t))return!1;const o=function(t){return k[t].feature}(e);return!o||t.has(o)}function M(t,e){const r=L(t,e);return{supported:r,multisample:r&&q(t,e),resolvable:r&&G(t,e),blendable:r&&A(t,e),filterable:r&&O(t,e),colorRenderable:r&&w(t,e),renderAttachment:r&&T(t,e),copyExternalImageToTexture:r&&x(t,e),storageReadOnly:r&&I(t,e,"read"),storageWriteOnly:r&&I(t,e,"write"),storageReadWrite:r&&I(t,e,"read-write")}}J=S,Array.from(new Set(J.map(t=>t?k[t].feature:void 0)));export{K as copySupported,M as getTextureSupportedFeatures};
//# sourceMappingURL=webgpu-feature-detector.module.min.js.map
