!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).webgpuFeatureDetector={})}(this,function(t){"use strict";function e(t){return Object.keys(t)}function r(t,e){return t.has(e)}function o(t){return!t.has("core-features-and-limits")}function s(t,e){if(!t)throw new Error(e)}const c={blockWidth:void 0,blockHeight:void 0,color:void 0,depth:void 0,stencil:void 0,colorRender:void 0,multisample:void 0,feature:void 0,baseFormat:void 0,bytesPerBlock:void 0};function l({defaults:t,table:e}){return Object.fromEntries(Object.entries(e).map(([e,r])=>[e,{...c,...t,...r}]))}const a=l({defaults:{blockWidth:1,blockHeight:1},table:{r8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},colorRender:{blend:!0,resolve:!0,byteCost:1,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r8snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},multisample:!1,get bytesPerBlock(){return this.color.bytes}},r8uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},colorRender:{blend:!1,resolve:!1,byteCost:1,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r8sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},colorRender:{blend:!1,resolve:!1,byteCost:1,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!0,byteCost:2,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg8snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rg8uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg8sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"rgba8unorm",get bytesPerBlock(){return this.color.bytes}},"rgba8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"rgba8unorm",get bytesPerBlock(){return this.color.bytes}},rgba8snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba8uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba8sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:1},multisample:!0,get bytesPerBlock(){return this.color.bytes}},bgra8unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"bgra8unorm",get bytesPerBlock(){return this.color.bytes}},"bgra8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:1},multisample:!0,baseFormat:"bgra8unorm",get bytesPerBlock(){return this.color.bytes}},r16unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!1,byteCost:2,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},r16snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!1,byteCost:2,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},r16uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r16sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!1,resolve:!1,byteCost:2,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r16float:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},colorRender:{blend:!0,resolve:!0,byteCost:2,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg16unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!1,byteCost:4,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rg16snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!1,byteCost:4,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rg16uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg16sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg16float:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:4,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba16unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!0,resolve:!1,byteCost:8,alignment:4},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rgba16snorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!0,resolve:!1,byteCost:8,alignment:2},multisample:!0,feature:"texture-formats-tier1",get bytesPerBlock(){return this.color.bytes}},rgba16uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba16sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgba16float:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:2},multisample:!0,get bytesPerBlock(){return this.color.bytes}},r32uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!0,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},r32sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!0,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},r32float:{color:{type:"unfilterable-float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!0,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:4,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg32uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rg32sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rg32float:{color:{type:"unfilterable-float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:8},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba32uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:16},colorRender:{blend:!1,resolve:!1,byteCost:16,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba32sint:{color:{type:"sint",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:16},colorRender:{blend:!1,resolve:!1,byteCost:16,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgba32float:{color:{type:"unfilterable-float",copySrc:!0,copyDst:!0,storage:!0,readWriteStorage:!1,bytes:16},colorRender:{blend:!1,resolve:!1,byteCost:16,alignment:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}},rgb10a2uint:{color:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!1,resolve:!1,byteCost:8,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgb10a2unorm:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rg11b10ufloat:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},colorRender:{blend:!0,resolve:!0,byteCost:8,alignment:4},multisample:!0,get bytesPerBlock(){return this.color.bytes}},rgb9e5ufloat:{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:4},multisample:!1,get bytesPerBlock(){return this.color.bytes}}}}),n=l({defaults:{blockWidth:1,blockHeight:1,multisample:!0},table:{stencil8:{stencil:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},bytesPerBlock:1},depth16unorm:{depth:{type:"depth",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:2},bytesPerBlock:2},depth32float:{depth:{type:"depth",copySrc:!0,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:4},bytesPerBlock:4}}}),y=l({defaults:{blockWidth:1,blockHeight:1,multisample:!0},table:{depth24plus:{depth:{type:"depth",copySrc:!1,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:void 0}},"depth24plus-stencil8":{depth:{type:"depth",copySrc:!1,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:void 0},stencil:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1}},"depth32float-stencil8":{depth:{type:"depth",copySrc:!0,copyDst:!1,storage:!1,readWriteStorage:!1,bytes:4},stencil:{type:"uint",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:1},feature:"depth32float-stencil8"}}}),b=l({defaults:{blockWidth:4,blockHeight:4,multisample:!1,feature:"texture-compression-bc"},table:{"bc1-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"bc1-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc1-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"bc1-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc2-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc2-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc2-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc2-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc3-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc3-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc3-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc3-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc4-r-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"bc4-r-snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"bc5-rg-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc5-rg-snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc6h-rgb-ufloat":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc6h-rgb-float":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"bc7-rgba-unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc7-rgba-unorm",get bytesPerBlock(){return this.color.bytes}},"bc7-rgba-unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"bc7-rgba-unorm",get bytesPerBlock(){return this.color.bytes}}}}),i=l({defaults:{blockWidth:4,blockHeight:4,multisample:!1,feature:"texture-compression-etc2"},table:{"etc2-rgb8unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgb8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgb8a1unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8a1unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgb8a1unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},baseFormat:"etc2-rgb8a1unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgba8unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"etc2-rgba8unorm",get bytesPerBlock(){return this.color.bytes}},"etc2-rgba8unorm-srgb":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"etc2-rgba8unorm",get bytesPerBlock(){return this.color.bytes}},"eac-r11unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"eac-r11snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:8},get bytesPerBlock(){return this.color.bytes}},"eac-rg11unorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}},"eac-rg11snorm":{color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},get bytesPerBlock(){return this.color.bytes}}}}),g=l({defaults:{multisample:!1,feature:"texture-compression-astc"},table:{"astc-4x4-unorm":{blockWidth:4,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-4x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-4x4-unorm-srgb":{blockWidth:4,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-4x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x4-unorm":{blockWidth:5,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x4-unorm-srgb":{blockWidth:5,blockHeight:4,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x4-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x5-unorm":{blockWidth:5,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-5x5-unorm-srgb":{blockWidth:5,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-5x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x5-unorm":{blockWidth:6,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x5-unorm-srgb":{blockWidth:6,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x6-unorm":{blockWidth:6,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-6x6-unorm-srgb":{blockWidth:6,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-6x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x5-unorm":{blockWidth:8,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x5-unorm-srgb":{blockWidth:8,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x6-unorm":{blockWidth:8,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x6-unorm-srgb":{blockWidth:8,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x8-unorm":{blockWidth:8,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-8x8-unorm-srgb":{blockWidth:8,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-8x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x5-unorm":{blockWidth:10,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x5-unorm-srgb":{blockWidth:10,blockHeight:5,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x5-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x6-unorm":{blockWidth:10,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x6-unorm-srgb":{blockWidth:10,blockHeight:6,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x6-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x8-unorm":{blockWidth:10,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x8-unorm-srgb":{blockWidth:10,blockHeight:8,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x8-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x10-unorm":{blockWidth:10,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-10x10-unorm-srgb":{blockWidth:10,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-10x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x10-unorm":{blockWidth:12,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x10-unorm-srgb":{blockWidth:12,blockHeight:10,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x10-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x12-unorm":{blockWidth:12,blockHeight:12,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x12-unorm",get bytesPerBlock(){return this.color.bytes}},"astc-12x12-unorm-srgb":{blockWidth:12,blockHeight:12,color:{type:"float",copySrc:!0,copyDst:!0,storage:!1,readWriteStorage:!1,bytes:16},baseFormat:"astc-12x12-unorm",get bytesPerBlock(){return this.color.bytes}}}}),u={...b,...i,...g},p={...a,...u},m={...n,...y},d={...{...a,...n,...y},...u},f=e(a),h=e(p),S=e(m),k=e(d),W={...a,...n,...y,...b,...i,...g};S.filter(t=>W[t].depth),S.filter(t=>W[t].stencil);const B=["r8snorm","rg8snorm","rgba8snorm","rg11b10ufloat"],D=["r16unorm","r16snorm","rg16unorm","rg16snorm","rgba16unorm","rgba16snorm","r8snorm","rg8snorm","rgba8snorm","rg11b10ufloat"],P=["r8unorm","r8snorm","r8uint","r8sint","rg8unorm","rg8snorm","rg8uint","rg8sint","r16uint","r16sint","r16float","rg16uint","rg16sint","rg16float","rgb10a2uint","rgb10a2unorm","rg11b10ufloat"],x=["r8unorm","r8uint","r8sint","rgba8unorm","rgba8uint","rgba8sint","r16uint","r16sint","r16float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float"];function v(t,e){return function(t){return!!W[t].color}(e)&&!function(t){const e=W[t],r=e.color?.type??e.depth?.type??e.stencil?.type;return"sint"===r||"uint"===r}(e)&&!H(e)&&!function(t){return t.endsWith("snorm")}(e)&&A(t,e)}[...f.filter(t=>W[t].color?.storage),"bgra8unorm",...P].filter(t=>W[t].color?.readWriteStorage),f.filter(t=>W[t].multisample),S.filter(t=>W[t].multisample),f.filter(t=>W[t].colorRender),h.filter(t=>W[t].baseFormat&&W[t].baseFormat!==t),f.filter(t=>W[t].baseFormat&&W[t].baseFormat!==t),k.filter(t=>void 0!==W[t].feature);const C={depth24plus:{CopyB2T:[],CopyT2B:[],texelAspectSize:{"depth-only":-1,"stencil-only":-1}},"depth24plus-stencil8":{CopyB2T:["stencil-only"],CopyT2B:["stencil-only"],texelAspectSize:{"depth-only":-1,"stencil-only":1}},depth16unorm:{CopyB2T:["all","depth-only"],CopyT2B:["all","depth-only"],texelAspectSize:{"depth-only":2,"stencil-only":-1}},depth32float:{CopyB2T:[],CopyT2B:["all","depth-only"],texelAspectSize:{"depth-only":4,"stencil-only":-1}},"depth32float-stencil8":{CopyB2T:["stencil-only"],CopyT2B:["depth-only","stencil-only"],texelAspectSize:{"depth-only":4,"stencil-only":1}},stencil8:{CopyB2T:["all","stencil-only"],CopyT2B:["all","stencil-only"],texelAspectSize:{"depth-only":-1,"stencil-only":1}}};function F(t,e,r){const o=function(t,e){return C[e]["WriteTexture"===t?"CopyB2T":t]}(t,e);return o.includes(r)}function R(t){return D.includes(t)}function H(t){return t in u}function T(t){return function(t){return!!W[t].depth}(t)||function(t){return!!W[t].stencil}(t)}function w(t,e){return"rg11b10ufloat"===e?r(t,"rg11b10ufloat-renderable"):R(e)?r(t,"texture-formats-tier1"):!(!W[e].colorRender&&!T(e))}function A(t,e){return"rg11b10ufloat"===e?r(t,"rg11b10ufloat-renderable"):R(e)?r(t,"texture-formats-tier1"):!!d[e].colorRender}function O(t,e){return!!A(t,e)&&("rg11b10ufloat"===e?r(t,"rg11b10ufloat-renderable"):j(e)?r(t,"float32-blendable"):!!d[e].colorRender?.blend)}function z(t,e){const o=function(t,e="all"){const r=W[t];let o;switch(e){case"all":o=r.color?.type??r.depth?.type??r.stencil?.type;break;case"depth-only":o=r.depth?.type;break;case"stencil-only":o=r.stencil?.type}return s(!!o),o}(e);switch(o){case"float":return!0;case"unfilterable-float":return s(j(e)),r(t,"float32-filterable");default:return!1}}function j(t){return"r32float"===t||"rg32float"===t||"rgba32float"===t}const E=["rg32float","rg32sint","rg32uint"];function I(t,e){if(o(t)&&E.indexOf(e)>=0)return!1;if("bgra8unorm"===e&&r(t,"bgra8unorm-storage"))return!0;if(function(t){return P.includes(t)}(e)&&r(t,"texture-formats-tier1"))return!0;const s=W[e];return!!(s.color?.storage||s.depth?.storage||s.stencil?.storage)}function _(t,e,o){switch(o){case"read":case"read-only":return function(t,e){if("bgra8unorm"===e)return!1;return I(t,e)}(t,e);case"write":case"write-only":return I(t,e);case"read_write":case"read-write":return function(t,e){if(function(t){return x.includes(t)}(e))return r(t,"texture-formats-tier2");return!!W[e].color?.readWriteStorage}(t,e)}}const q=["r8uint","r8sint","rg8uint","rg8sint","rgba8uint","rgba8sint","r16uint","r16sint","rg16uint","rg16sint","rgba16uint","rgba16sint","rgb10a2uint","rgba16float","r32float"];function G(t,e){return!(o(t)&&q.indexOf(e)>=0)&&("rg11b10ufloat"===e?r(t,"rg11b10ufloat-renderable"):R(e)?r(t,"texture-formats-tier1"):d[e].multisample)}function J(t,e){if("rg11b10ufloat"===e)return r(t,"rg11b10ufloat-renderable");if(function(t){return B.includes(t)}(e))return r(t,"texture-formats-tier1");if(!G(t,e))return!1;const o=d[e];return!!o.colorRender?.resolve}var K;function L(t,e){if("bgra8unorm-srgb"===e&&o(t))return!1;const r=function(t){return W[t].feature}(e);return!r||t.has(r)}K=k,Array.from(new Set(K.map(t=>t?W[t].feature:void 0))),t.copySupported=function(t,e,r,s,c=1){if(o(t)){if(c>1&&"CopyT2T"===e)return!1;if(H(r))return"WriteTexture"===e||"CopyB2T"===e}if(T(r)){if("CopyT2T"!==e)return F(e,r,s);switch(r){case"depth24plus":case"depth32float":return!1;case"depth24plus-stencil8":case"depth32float-stencil8":return"stencil-only"===s}}return 1==c||"CopyT2T"===e},t.getTextureSupportedFeatures=function(t,e){const r=L(t,e);return{supported:r,multisample:r&&G(t,e),resolvable:r&&J(t,e),blendable:r&&O(t,e),filterable:r&&z(t,e),colorRenderable:r&&A(t,e),renderAttachment:r&&w(t,e),copyExternalImageToTexture:r&&v(t,e),storageReadOnly:r&&_(t,e,"read"),storageWriteOnly:r&&_(t,e,"write"),storageReadWrite:r&&_(t,e,"read-write")}}});
//# sourceMappingURL=webgpu-feature-detector.min.js.map
